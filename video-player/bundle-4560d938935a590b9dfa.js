(()=>{"use strict";var e={131:(e,n,t)=>{t.r(n)},495:function(e,n){var t,o,r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.VideoPlayer=n.UiClasses=void 0,function(e){e.play="videoPlay",e.stop="videoStop",e.pause="videoPause",e.start="videoStart",e.fullscreen="videoFullscreen",e.fullscreenCancel="videoFullscreenCancel",e.buffer="playerBufferedAmount",e.progress="playerProgressAmount",e.track="playerTrack",e.volume="videoVolume",e.rangeVolume="videoVolumeRange",e.labelValue="palyer-volume-label",e.volumeProgressContainer="palyerVolumeContainer",e.videoPlayerControls="videoPlayerControls",e.videoContainerOverlay="overlayVideoContainer",e.videoOverlayBtn="overlayVideoBtn",e.trackTime="palyertrackTime",e.trackTimeFull="palyertrackTimeFull"}(t=n.UiClasses||(n.UiClasses={})),function(e){e[e.fullscreen=30]="fullscreen",e[e.controls=25]="controls",e[e.volume=20]="volume"}(o||(o={}));var i=function(){function e(e,n){var t=this;this.unMount=function(){t.controls(t.container,!0),t.overlayPlay(!0)},this.fullscreen=function(e,n){return'\n        <div class="player-btn-pp">\n            <button class="'+e+' contarols-btn">\n              <img src="'+t.icons+'/fullscreen.svg" alt="fullscreen on">\n            </button>\n            <button class="'+n+' contarols-btn" style="display: none;">\n              <img src="'+t.icons+'/fullscreen-off.svg" alt="fullscreen off">\n            </button>\n          </div>\n    '},this.createUI=function(){return{controls:t.controls(t.container),overlayPLay:t.overlayPlay()}},this.container=e,this.volumeValue=n.volumeValue,this.icons=n.icons,this.controls=this.controls.bind(this),this.volume=this.volume.bind(this),this.overlayPlay=this.overlayPlay.bind(this)}return e.prototype.volume=function(e){var n=e.btn,t=e.volume;return'\n      <div class="player-btn-pp palyer-volume-container">\n\n        <div class="palyer-volume-range-wrap '+e.range+'" style="display: none;">\n          <input type="range" class="input-player-range '+t+'" value="'+this.volumeValue+'" name="volume" min="0" max="100">\n          <div class="palyer-volume-label">\n            '+this.volumeValue+'%\n          </div>\n        </div>\n       \n        <button class="'+n+' contarols-btn">\n           <img src="'+this.icons+'/volume.svg" alt="volume"> \n        </button>\n      </div>\n    '},e.prototype.play=function(e,n){return'\n      <div class="player-btn-pp">\n        <button class="'+e+' contarols-btn">\n          <img src="'+this.icons+'/play.svg" alt="play">\n        </button>\n        <button class="'+n+' contarols-btn" style="display: none;">\n          <img src="'+this.icons+'/pause.svg" alt="pause">\n        </button>\n      </div>\n    '},e.prototype.track=function(e,n,t,o,r){return'\n        <div class="player-track-container">\n          <div class="player-track-time">\n            <span class="'+o+'">00.00</span>\n            <span class="player-track-time_sp">/</span>\n            <span class="'+r+'">00.00</span>\n          </div>\n          <div class="player-track '+e+'" >\n          </div>\n          <div class="player-buffered">\n            <span class="player-buffered-amount '+t+'"></span>\n          </div>\n          <div class="player-progress">\n            <span class="player-progress-amount '+n+'"></span>\n          </div>\n        </div>\n      '},e.prototype.overlayPlay=function(e){var n,o="overlay-play",r={container:t.videoContainerOverlay,btn:t.videoOverlayBtn};if(!e&&this.container){var i='\n        <div class="overlay-play '+r.container+'">\n            <div class="play-icon '+r.btn+'"></div>\n        </div>\n      ';return this.container.insertAdjacentHTML("beforeend",i),{status:"insert",class:o,ui:Object.values(r)}}var l=null===(n=this.container)||void 0===n?void 0:n.querySelector("."+o);return null==l||l.remove(),{status:"remove",class:o,ui:[]}},e.prototype.controls=function(e,n){var o;if(!e)throw new Error("Not found container in controls element");var r="videoPlayerControls",i={play:t.play,pause:t.pause,fullscreen:t.fullscreen,fullscreenCancel:t.fullscreenCancel,buffer:t.buffer,progress:t.progress,track:t.track,volume:t.volume,rangeVolume:t.rangeVolume,rangeVolumeContainer:t.volumeProgressContainer,videoPlayerControls:t.videoPlayerControls,trackTime:t.trackTime,timeFull:t.trackTimeFull};if(n){var l=null===(o=this.container)||void 0===o?void 0:o.querySelector("."+r);return null==l||l.remove(),{status:"remove",class:r,ui:[]}}var a='\n      <div class="video-player-controls '+r+'" style="display: none">\n        <div class="player-btn-left">\n          '+this.play(i.play,i.pause)+"\n        </div>\n\n        "+this.track(i.track,i.progress,i.buffer,i.trackTime,i.timeFull)+'\n\n        <div class="player-btn-right">\n          '+this.fullscreen(i.fullscreen,i.fullscreenCancel)+"\n          "+this.volume({btn:i.volume,volume:i.rangeVolume,range:i.rangeVolumeContainer})+"\n        </div>\n      </div>\n    ";return e.insertAdjacentHTML("beforeend",a),{status:"insert",class:r,ui:Object.values(i)}},e}(),l=function(){function e(e,n,t){var o,l=this;if(void 0===e&&(e="#player-conrainer"),this.isPlay=!1,this.isFullScreen=!1,this.isVolume=!1,this.navigator=window.navigator,this.mX=0,this.mY=0,this.unMount=function(){new i(l.videoContainer,{volumeValue:l.volumeValue,icons:l.iconsFolder}).unMount(),l._onClickControls(!0)(),l._onChangeFullScreen(!0)(),l._onChangeProgessVideo(!0)(),l._onChangeVolume(!0)()},this.checkSelectors=function(){return l.video?!l.videoContainer&&(console.error("video container selector not found",l.videoContainer),!0):(console.error("video selctor not found",l.video),!0)},this.playerInit=function(){!l.checkSelectors()&&l.video&&(l._onClickControls(),l._onChangePip(),l._onChangeFullScreen(),l._onChangeProgessVideo(),l._onChangeVolume(),l.video.volume=l.volumeValue/100)},this.videoContainer=document.querySelector(e),this.video=(null===(o=this.videoContainer)||void 0===o?void 0:o.querySelector("video"))||null,this.volumeValue=t||100,this.iconsFolder=n,this.checkSelectors(),!this.checkSelectors()&&this.videoContainer){var a=new i(this.videoContainer,{volumeValue:this.volumeValue,icons:this.iconsFolder}).createUI(),s=this.videoContainer;Object.keys(a).forEach((function(e){a[e].ui.forEach((function(e){var n;l.controlsUI=r(r({},l.controlsUI),((n={})[e]=s.querySelector("."+e),n))}))}))}this._onClickControls=this._onClickControls.bind(this),this._onChangePip=this._onChangePip.bind(this),this._onChangeFullScreen=this._onChangeFullScreen.bind(this),this.fadeOutIN=this.fadeOutIN.bind(this),this._onChangeProgessVideo=this._onChangeProgessVideo.bind(this),this._onChangeVolume=this._onChangeVolume.bind(this)}return Object.defineProperty(e.prototype,"videoElement",{get:function(){return this.video},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.controlsUI},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVideoPlay",{get:function(){return this.isPlay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVideoFullScreen",{get:function(){return this.isFullScreen},enumerable:!1,configurable:!0}),e.prototype.secondsToHms=function(e){e=Number(e);var n=Math.floor(e/3600),t=Math.floor(e%3600/60),o=Math.floor(e%3600%60),r=function(e){return e>9?e:"0"+e};return{h:n,m:t,s:o,time:r(t)+":"+r(o)}},e.prototype._onMouse=function(e){var n=this;void 0===e&&(e=!1);var t=function(e){n.isVideoPlay&&(n.mX=e.clientX,n.mY=e.clientY)};return this.videoContainer&&!e&&this.videoContainer.addEventListener("mousemove",t),function(){var e;null===(e=n.videoContainer)||void 0===e||e.removeEventListener("mousemove",t)}},e.prototype._onClickControls=function(e){var n,r=this;void 0===e&&(e=!1);var i=function(e){for(var n,i=e.target,l=Object.keys(r.controlsUI),a=((n={})[t.play]=function(){var e;r.isPlay=!0,r.fadeOutIN(t.pause,t.play,o.controls),null===(e=r.video)||void 0===e||e.play()},n[t.pause]=function(){var e;r.isPlay=!1,r.fadeOutIN(t.play,t.pause,o.controls),null===(e=r.video)||void 0===e||e.pause()},n[t.fullscreen]=function(){if(r.video&&r.videoContainer){r.isFullScreen=!0;var e=r.videoContainer;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),r.fadeOutIN(t.fullscreenCancel,t.fullscreen,o.fullscreen)}},n[t.fullscreenCancel]=function(){r.video&&r.videoContainer&&(r.isFullScreen=!1,document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),r.fadeOutIN(t.fullscreen,t.fullscreenCancel,o.fullscreen))},n[t.volume]=function(){r.isVolume=!r.isVolume;var e=r.controlsUI[t.volumeProgressContainer];r.isVolume?e&&r.fadeIn({el:e,display:"flex",time:o.volume}):e&&r.fadeOut({el:e,time:o.volume})},n[t.track]=function(e){var n,i=null===(n=r.videoContainer)||void 0===n?void 0:n.querySelector("."+t.track),l=e.offsetX;r.video&&(r.isPlay||r.fadeOutIN(t.pause,t.play,o.controls),r.video.pause(),r.video.currentTime=r.video.duration*l/i.offsetWidth,r.video.play())},n[t.videoOverlayBtn]=function(){r.fadeOutIN(t.videoPlayerControls,t.videoContainerOverlay,40,{callback:function(){var e;null===(e=r.video)||void 0===e||e.play()},display:"flex"})},n),s=0;s<l.length;s++)if(i.matches("."+l[s])&&void 0!==a[l[s]]){var u=r.controlsUI[l[s]];u&&a[l[s]](e,u);break}};return e||null===(n=this.videoContainer)||void 0===n||n.addEventListener("click",i,!1),function(){var e;null===(e=r.videoContainer)||void 0===e||e.removeEventListener("click",i,!1)}},e.prototype._onChangePip=function(e){var n=this;void 0===e&&(e=!1);var r=this.video,i=function(){r.pause(),n.fadeOutIN(t.play,t.pause,o.controls)},l=function(){r.pause(),n.fadeOutIN(t.play,t.pause,o.controls)};return document.pictureInPictureEnabled&&!e&&(r.addEventListener("enterpictureinpicture",i,!1),r.addEventListener("leavepictureinpicture",l,!1),this.navigator&&(this.navigator.mediaSession.setActionHandler("pause",(function(){r.pause(),n.fadeOutIN(t.play,t.pause,o.controls)})),this.navigator.mediaSession.setActionHandler("play",(function(){r.play(),n.fadeOutIN(t.pause,t.play,o.controls)})))),function(){r.removeEventListener("enterpictureinpicture",i,!1),r.removeEventListener("leavepictureinpicture",l,!1)}},e.prototype._onChangeFullScreen=function(e){var n=this;void 0===e&&(e=!1);var r=function(){n.isFullScreen?(n.isFullScreen=!1,n.fadeOutIN(t.fullscreenCancel,t.fullscreen,o.fullscreen)):(n.isFullScreen=!0,n.fadeOutIN(t.fullscreen,t.fullscreenCancel,o.fullscreen))};return this.video&&this.videoContainer&&!e&&(this.videoContainer.addEventListener("webkitfullscreenchange",r),this.videoContainer.addEventListener("mozfullscreenchange",r),this.videoContainer.addEventListener("fullscreenchange",r)),function(){var e,t,o;null===(e=n.videoContainer)||void 0===e||e.removeEventListener("webkitfullscreenchange",r),null===(t=n.videoContainer)||void 0===t||t.removeEventListener("mozfullscreenchange",r),null===(o=n.videoContainer)||void 0===o||o.removeEventListener("fullscreenchange",r)}},e.prototype._onChangeProgessVideo=function(e){var n=this;void 0===e&&(e=!1);var r=this.video,i=function(){n.isPlay=!1,r.pause(),r.currentTime=0,n.fadeOutIN(t.videoContainerOverlay,t.videoPlayerControls,40,{callback:function(){n.fadeOutIN(t.play,t.pause,0)},display:"flex"})},l=function(){n.isPlay=!0,n.fadeOutIN(t.pause,t.play,o.controls)},a=function(){var e=r.duration;if(console.log(),e>0){var o=n.controlsUI[t.progress],i=n.controlsUI[t.trackTime];o&&(o.style.width=r.currentTime/e*100+"%"),i&&(i.innerText=n.secondsToHms(r.currentTime).time)}},s=function(){var e=r.duration;if(e>0)for(var o=0;o<r.buffered.length;o++)if(r.buffered.start(r.buffered.length-1-o)<r.currentTime){var i=n.controlsUI[t.buffer];i&&(i.style.width=r.buffered.end(r.buffered.length-1-o)/e*100+"%");break}},u=function(){var e=n.controlsUI[t.trackTimeFull];e&&(e.innerText=n.secondsToHms(r.duration).time)};return this.video&&!e&&(r.addEventListener("progress",s,!1),r.addEventListener("timeupdate",a,!1),r.addEventListener("ended",i,!1),r.addEventListener("play",l,!1),r.addEventListener("loadedmetadata",u,!1)),function(){r.removeEventListener("ended",i,!1),r.removeEventListener("progress",s,!1),r.removeEventListener("timeupdate",a,!1),r.removeEventListener("play",l,!1),r.addEventListener("loadedmetadata",u,!1)}},e.prototype._onChangeVolume=function(e){var n=this;void 0===e&&(e=!1);var o=this.controlsUI[t.rangeVolume],r=function(e){var o,r=null===(o=n.videoContainer)||void 0===o?void 0:o.querySelector("."+t.labelValue),i=e.target,l=n.video;r.textContent=i.value+"%",l&&(l.volume=parseInt(i.value)/100)};return!e&&this.video&&o&&o.addEventListener("input",r,!1),function(){null==o||o.removeEventListener("input",r,!1)}},e.prototype.fadeIn=function(e){var n=e.el,t=e.display,o=void 0===t?"block":t,r=e.time,i=void 0===r?10:r,l=e.callback,a=void 0===l?void 0:l;n.style.opacity="0",n.style.display=o||"block",function e(){var t=parseFloat(n.style.opacity);(t+=i/1e3)<1.01?(n.style.opacity=t.toString(),requestAnimationFrame(e)):void 0!==a&&a()}()},e.prototype.fadeOut=function(e){var n=e.el,t=e.time,o=void 0===t?10:t,r=e.callback,i=void 0===r?void 0:r;n.style.opacity="1",function e(){(n.style.opacity-=o/1e3)<0?(n.style.display="none",void 0!==i&&i()):requestAnimationFrame(e)}()},e.prototype.fadeOutIN=function(e,n,t,o){var r=this,i=this.controlsUI[n],l=this.controlsUI[e],a=null==o?void 0:o.callback;i&&this.fadeOut({el:i,time:t,callback:function(){l&&r.fadeIn({el:l,display:(null==o?void 0:o.display)||"block",time:t,callback:a})}})},e}();n.VideoPlayer=l}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var i=n[o]={exports:{}};return e[o].call(i.exports,i,i.exports,t),i.exports}t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t(131),new(t(495).VideoPlayer)(".player-conrainer","./assets/images/icons",50).playerInit()})();